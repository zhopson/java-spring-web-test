<!DOCTYPE html>

<html>
    <head>
        <title>Spring Boot Mustache</title>
        <style>
            table {
                border-collapse: collapse;
            }

            table, td, th {
                border: 1px solid #999;
                padding: 5px;
            }
        </style>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <!--        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>        -->
        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
        <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>        
        <!--        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"></head>-->
    <body>
        <div class="container">
            <div class="jumbotron">
                <h1>Заметки</h1>
                <hr class="my-4">
                <p><a class="btn btn-success btn-lg" href="/" role="button">Простая версия</a></p>
            </div>    
            <!--    <h2>Заметки</h2>
                <h4><a href="new">Создать Заметку</a></h4>-->
            <p><a class="btn btn-primary btn-lg" href="new" role="button">Создать Заметку</a></p>

            <div class="card">
                <div class="card-body">
                    <table id="notesTable" class="display" cellspacing="0" width="100%"  >

                        <!-- Header Table -->
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Сообщение</th>
                                <th>Дата</th>
                                <th>Сделано</th>
                                <th>Редактировать</th>
                                <th>Удалить</th>
                            </tr>
                        </thead>
                        <!-- Footer Table -->
                        <tfoot>
                            <tr>
                                <th>Id</th>
                                <th>Сообщение</th>
                                <th>Дата</th>
                                <th>Сделано</th>
                                <th>Редактировать</th>
                                <th>Удалить</th>
                            </tr>
                            <!--            <tr>
                                            <th>Id</th>
                                                            <th>Name</th>
                                            <th>Last Name</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <th>Active</th>
                                        </tr>-->
                        </tfoot>
                    </table>         
                </div>
            </div>
            <p></p>
            <nav class="navbar bottom navbar-light bg-light">
                <!--  <a class="navbar-brand" href="#">Jabbing</a>-->
                <span class="navbar-text">
                    Тестовое приложение Заметки
                </span>
            </nav>

        </div>

        <script type="text/javascript">
            $(document).ready(function () {
                $('#notesTable').DataTable({
                    "createdRow": function (row, data, index) {
//                        if (data[5].replace(/[\$,]/g, '') * 1 > 150000) {
//                            $('td', row).eq(4).html("Test edit/"+data[0]);
                        //data[4] = "Test edit";
//                        }
                    },
                    "columnDefs": [{
                            "searchable": false,
                            "orderable": false,
                            "targets": [4],
                            "defaultContent": "Click to edit/id",
                            "data": function (row, val, meta) {
                                // 'sort', 'type' and undefined all just use the integer
                                //return "edit/"+row.id;
                                return "<a href=\"edit\/"+ row.id +"\">Редактировать Заметку</a>";
                            }
                        },
                        {
                            "targets": [5],
                            "orderable": false,
                            "searchable": false,
                            //"data": null,
                            "defaultContent": "Click to delete/id",
                            "data": function (row, val, meta) {
                                // 'sort', 'type' and undefined all just use the integer
                                //return "delete/"+row.id;
                                return "<a href=\"delete\/"+ row.id +"\">Удалить Заметку</a>";
                            }
                        }],
                    "language": {
//    "columns": [
//        null,
//        null,
//        { "type": "date" },
//        null,
//        null
//    ],
                        //"url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/German.json",
                        "processing": "Подождите...",
                        "search": "Поиск:",
                        "lengthMenu": "Показать _MENU_ записей",
                        "info": "Записи с _START_ до _END_ из _TOTAL_ записей",
                        "infoEmpty": "Записи с 0 до 0 из 0 записей",
                        "infoFiltered": "(отфильтровано из _MAX_ записей)",
                        "infoPostFix": "",
                        "loadingRecords": "Загрузка записей...",
                        "zeroRecords": "Записи отсутствуют.",
                        "emptyTable": "В таблице отсутствуют данные",
                        "paginate": {
                            "first": "Первая",
                            "previous": "Предыдущая",
                            "next": "Следующая",
                            "last": "Последняя"
                        },
                        "aria": {
                            "sortAscending": ": активировать для сортировки столбца по возрастанию",
                            "sortDescending": ": активировать для сортировки столбца по убыванию"
                        }
                    },
                    "sAjaxSource": "/json_list",
                    "sAjaxDataProp": "",
                    "order": [[2, "desc"]],
                    "aoColumns": [
                        {"mData": "id"},
                        {"mData": "message"},
                        {"mData": "date"},
                        {"mData": "done"}
                    ]
                });
            });
        </script>    

    </body>

</html>

